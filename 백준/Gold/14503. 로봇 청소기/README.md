# [Gold V] 로봇 청소기 - 14503 

[문제 링크](https://www.acmicpc.net/problem/14503) 

### 성능 요약

메모리: 79536 KB, 시간: 12 ms

### 분류

구현(implementation), 시뮬레이션(simulation)

### 문제 설명

<p>로봇 청소기가 주어졌을 때, 청소하는 영역의 개수를 구하는 프로그램을 작성하시오.</p>

<p>로봇 청소기가 있는 장소는 N×M 크기의 직사각형으로 나타낼 수 있으며, 1×1크기의 정사각형 칸으로 나누어져 있다. 각각의 칸은 벽 또는 빈 칸이다. 청소기는 바라보는 방향이 있으며, 이 방향은 동, 서, 남, 북중 하나이다. 지도의 각 칸은 (r, c)로 나타낼 수 있고, r은 북쪽으로부터 떨어진 칸의 개수, c는 서쪽으로 부터 떨어진 칸의 개수이다.</p>

<p>로봇 청소기는 다음과 같이 작동한다.</p>

<ol>
	<li>현재 위치를 청소한다.</li>
	<li>현재 위치에서 현재 방향을 기준으로 왼쪽방향부터 차례대로 탐색을 진행한다.
	<ol>
		<li>왼쪽 방향에 아직 청소하지 않은 공간이 존재한다면, 그 방향으로 회전한 다음 한 칸을 전진하고 1번부터 진행한다.</li>
		<li>왼쪽 방향에 청소할 공간이 없다면, 그 방향으로 회전하고 2번으로 돌아간다.</li>
		<li>네 방향 모두 청소가 이미 되어있거나 벽인 경우에는, 바라보는 방향을 유지한 채로 한 칸 후진을 하고 2번으로 돌아간다.</li>
		<li>네 방향 모두 청소가 이미 되어있거나 벽이면서, 뒤쪽 방향이 벽이라 후진도 할 수 없는 경우에는 작동을 멈춘다.</li>
	</ol>
	</li>
</ol>

<p>로봇 청소기는 이미 청소되어있는 칸을 또 청소하지 않으며, 벽을 통과할 수 없다.</p>

### 입력 

 <p>첫째 줄에 세로 크기 N과 가로 크기 M이 주어진다. (3 ≤ N, M ≤ 50)</p>

<p>둘째 줄에 로봇 청소기가 있는 칸의 좌표 (r, c)와 바라보는 방향 d가 주어진다. d가 0인 경우에는 북쪽을, 1인 경우에는 동쪽을, 2인 경우에는 남쪽을, 3인 경우에는 서쪽을 바라보고 있는 것이다.</p>

<p>셋째 줄부터 N개의 줄에 장소의 상태가 북쪽부터 남쪽 순서대로, 각 줄은 서쪽부터 동쪽 순서대로 주어진다. 빈 칸은 0, 벽은 1로 주어진다. 지도의 첫 행, 마지막 행, 첫 열, 마지막 열에 있는 모든 칸은 벽이다.</p>

<p>로봇 청소기가 있는 칸의 상태는 항상 빈 칸이다.</p>

### 출력 

 <p>로봇 청소기가 청소하는 칸의 개수를 출력한다.</p>

### 풀이 과정

0. `typealias`를 이용해서 초기에 받아야 할 변수를 깔끔하게 정리해봤다.

1. `board` 라는 현재 청소한 현황을 나타내는 2차원 배열을 만들고 청소 하지 않은 부분은 0, 벽은 1, 청소한 부분은 2로 둔다.

2. **DFS**를 이용해서 현재 위치와 방향에서 왼쪽 공간이 청소하지 않은 부분(0)이면 이동하면서 청소한 부분(2)로 바꿔준다.

3. 만약 벽(1)이거나 청소한 부분(2)이면, 자리는 그대로 두고 방향만 왼쪽으로 돌려준다. 이때 돌린 횟수(chance)를 저장한다. 그 이유는 한 바퀴를 다 돌면서 모든 방향이 막혀있는지 확인해야하기 때문이다.
	-> 이 때, 왼쪽으로 돌리는 것은 `(nd + 3) % 4`로 처리하면 된다.
	
4. 한 바퀴를 모두 돌았을 때 (chance == 4) 바로 뒤가 벽(1)이라면 이제까지 움직인 횟수를 반환해주고, 벽이 아니라면 계속 뒤로 이동하면서 DFS 과정을 반복한다.





