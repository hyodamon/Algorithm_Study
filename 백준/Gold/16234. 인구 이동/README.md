# [Gold V] 인구 이동 - 16234 

[문제 링크](https://www.acmicpc.net/problem/16234) 

### 성능 요약

메모리: 79684 KB, 시간: 600 ms

### 분류

너비 우선 탐색(bfs), 그래프 이론(graphs), 그래프 탐색(graph_traversal), 구현(implementation), 시뮬레이션(simulation)

### 문제 설명

<p>N×N크기의 땅이 있고, 땅은 1×1개의 칸으로 나누어져 있다. 각각의 땅에는 나라가 하나씩 존재하며, r행 c열에 있는 나라에는 A[r][c]명이 살고 있다. 인접한 나라 사이에는 국경선이 존재한다. 모든 나라는 1×1 크기이기 때문에, 모든 국경선은 정사각형 형태이다.</p>

<p>오늘부터 인구 이동이 시작되는 날이다.</p>

<p>인구 이동은 하루 동안 다음과 같이 진행되고, 더 이상 아래 방법에 의해 인구 이동이 없을 때까지 지속된다.</p>

<ul>
	<li>국경선을 공유하는 두 나라의 인구 차이가 L명 이상, R명 이하라면, 두 나라가 공유하는 국경선을 오늘 하루 동안 연다.</li>
	<li>위의 조건에 의해 열어야하는 국경선이 모두 열렸다면, 인구 이동을 시작한다.</li>
	<li>국경선이 열려있어 인접한 칸만을 이용해 이동할 수 있으면, 그 나라를 오늘 하루 동안은 연합이라고 한다.</li>
	<li>연합을 이루고 있는 각 칸의 인구수는 (연합의 인구수) / (연합을 이루고 있는 칸의 개수)가 된다. 편의상 소수점은 버린다.</li>
	<li>연합을 해체하고, 모든 국경선을 닫는다.</li>
</ul>

<p>각 나라의 인구수가 주어졌을 때, 인구 이동이 며칠 동안 발생하는지 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 N, L, R이 주어진다. (1 ≤ N ≤ 50, 1 ≤ L ≤ R ≤ 100)</p>

<p>둘째 줄부터 N개의 줄에 각 나라의 인구수가 주어진다. r행 c열에 주어지는 정수는 A[r][c]의 값이다. (0 ≤ A[r][c] ≤ 100)</p>

<p>인구 이동이 발생하는 일수가 2,000번 보다 작거나 같은 입력만 주어진다.</p>

### 출력 

 <p>인구 이동이 며칠 동안 발생하는지 첫째 줄에 출력한다.</p>

### 풀이 과정

칸을 이동해야한다는 것을 보고 BFS, DFS를 써야 한다고 판단했다.

그리고 답은 인구 이동이 며칠 동안 발생하는지 구해야하므로, while문을 통해 특정 조건(인구 이동이 발생 X)이 될 때 까지 답에 1씩 더 해주어야했다.

그럼 먼저 BFS를 사용해보자.
BFS에 필요한 조건과 기능은 다음과 같다.

1. 현재 칸(A[r][c])과 이동해야 할 칸(A[nr][nc])의 차이의 절대값이 L이상, R이하여야한다.
2. 위 조건에 맞다면, 연합하는 나라의 정보들을 갖고있어야하고 그 나라들의 수(cnt)와 그 나라들의 인구의 총 합(sum)을 알야아한다. -> 평균 값들로 값을 대체해주어야 하기 때문
3. 만약 연합한 나라가 없다면(cnt == 1) 아무것도 해주지 않고, 연합한 나라들이 있다면(cnt > 1) 인구의 평균을 구해서 연합된 나라에 평균으로 갱신해준다.

위 과정을 Looper라는 함수를 통해서 계속 반복한다.

1. 모든 칸을 하나씩 BFS로 탐색해야한다. -> 이유는 N이 4이상이 되면 나라들이 연합된 구역이 붙어있지 않고 떨어져서 2개 이상이 될 수도 있기 때문이다. (이 부분을 이해하고 구현하는 게 가장 어려웠음)
2. 그래서 모든 칸들 다 BFS로 탐색하며, 연합된 구역들을 찾는다. 
3. 위 3번 조건에 따라 연합된 나라가 하나도 없다면 (BFS(r, c) == false) 더 이상 Looper를 반복하지 않고 끝내고 (더 이상 연합이 발생하지 않기 때문), 연합된 나라가 있으면 (BFS(r, c) == true) 정답에 1씩 더해준다.
